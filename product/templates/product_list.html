<!-- Inside the body tag in products/templates/products/product_list.html -->
<body>
    <!-- ... existing content ... -->

    <div class="filters">
        <label for="category">Category:</label>
        <select id="category">
            <option value="">All</option>
            {% for category in categories %}
                <option value="{{ category.id }}">{{ category.name }}</option>
            {% endfor %}
        </select>

        <label for="brand">Brand:</label>
        <select id="brand">
            <option value="">All</option>
            {% for brand in brands %}
                <option value="{{ brand.id }}">{{ brand.name }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="category-filters">
        <label>Categories:</label>
        {% for category in categories %}
            <input type="checkbox" class="category-checkbox" value="{{ category.id }}" /> {{ category.name }}
        {% endfor %}
    </div>

    <div class="brand-filters">
        <label>Brands:</label>
        {% for brand in brands %}
            <input type="checkbox" class="brand-checkbox" value="{{ brand.id }}" /> {{ brand.name }}
        {% endfor %}
    </div>

    <div class="product-list">
        {% for product in products %}
            <div class="product category-{{ product.category.id }} brand-{{ product.brand.id }}">
                <h2>{{ product.name }}</h2>
                <p>Category: {{ product.category.name }}</p>
                <p>Brand: {{ product.brand.name }}</p>
                <p>Price: ${{ product.price }}</p>
            </div>
        {% endfor %}
    </div>

    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script>
        // static/js/filter.js
        $(document).ready(function() {
            $('.category-checkbox, .brand-checkbox').change(function() {
                updateFilters();
            });

            function updateFilters() {
                var selectedCategory = $('#category').val();
                var selectedBrand = $('#brand').val();

                $('.product').hide();

                if (selectedCategory || selectedBrand) {
                    var categoryFilter = selectedCategory ? '.category-' + selectedCategory : '';
                    var brandFilter = selectedBrand ? '.brand-' + selectedBrand : '';

                    var filterSelector = categoryFilter + brandFilter;
                    $('.product' + filterSelector).show();
                } else {
                    $('.product').show();
                }
            }
        });

    </script>
</body>
